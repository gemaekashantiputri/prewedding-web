{"version":3,"sources":["components/Dashboard.js","components/Home.js","components/Login.js","components/Navbar.js","components/Register.js","App.js","index.js"],"names":["Dashboard","useState","name","setName","token","setToken","expire","setExpire","users","setUsers","history","useHistory","useEffect","refreshToken","getUsers","a","axios","get","response","data","accessToken","decoded","jwt_decode","exp","push","axiosJWT","create","interceptors","request","use","config","currentDate","Date","getTime","headers","Authorization","error","Promise","reject","className","onClick","map","user","index","email","id","Home","class","type","href","Login","setEmail","password","setPassword","msg","setMsg","Auth","e","preventDefault","post","onSubmit","placeholder","value","onChange","target","Navbar","Logout","delete","console","log","role","src","width","height","alt","Register","confPassword","setConfPassword","App","exact","path","defaults","withCredentials","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2ffd73b3.chunk.js","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from 'react'\nimport axios from 'axios';\nimport jwt_decode from \"jwt-decode\";\nimport { useHistory } from 'react-router-dom';\n\nconst Dashboard = () => {\n    const [name, setName] = useState('');\n    const [token, setToken] = useState('');\n    const [expire, setExpire] = useState('');\n    const [users, setUsers] = useState([]);\n    const history = useHistory();\n\n    useEffect(() => {\n        refreshToken();\n        getUsers();\n    }, []);\n\n    const refreshToken = async () => {\n        try {\n            const response = await axios.get('http://localhost:5000/token');\n            setToken(response.data.accessToken);\n            const decoded = jwt_decode(response.data.accessToken);\n            setName(decoded.name);\n            setExpire(decoded.exp);\n        } catch (error) {\n            if (error.response) {\n                history.push(\"/\");\n            }\n        }\n    }\n\n    const axiosJWT = axios.create();\n\n    axiosJWT.interceptors.request.use(async (config) => {\n        const currentDate = new Date();\n        if (expire * 1000 < currentDate.getTime()) {\n            const response = await axios.get('http://localhost:5000/token');\n            config.headers.Authorization = `Bearer ${response.data.accessToken}`;\n            setToken(response.data.accessToken);\n            const decoded = jwt_decode(response.data.accessToken);\n            setName(decoded.name);\n            setExpire(decoded.exp);\n        }\n        return config;\n    }, (error) => {\n        return Promise.reject(error);\n    });\n\n    const getUsers = async () => {\n        const response = await axiosJWT.get('http://localhost:5000/users', {\n            headers: {\n                Authorization: `Bearer ${token}`\n            }\n        });\n        setUsers(response.data);\n    }\n\n    return (\n        <div className=\"container mt-5\">\n            <h1>Welcome Back: {name}</h1>\n            <button onClick={getUsers} className=\"button is-info\">Get Users</button>\n            <table className=\"table is-striped is-fullwidth\">\n                <thead>\n                    <tr>\n                        <th>No</th>\n                        <th>Name</th>\n                        <th>Email</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {users.map((user, index) => (\n                        <tr key={user.id}>\n                            <td>{index + 1}</td>\n                            <td>{user.name}</td>\n                            <td>{user.email}</td>\n                        </tr>\n                    ))}\n\n                </tbody>\n            </table>\n        </div>\n    )\n}\n\nexport default Dashboard\n","import '../styles/main.css';\r\nimport '../styles/sign.css';\r\nimport '../styles/font-awesome.min.css';\r\nimport '../styles/bootstrap.min.css';\r\nimport '../styles/bootstrap-theme.css';\r\nimport '../styles/card.css';\r\n\r\nconst Home = () => {\r\n  return (\r\n    <><div className=\"navbar navbar-inverse navbar-fixed-top headroom\">\r\n      <div class=\"container\">\r\n        <div class=\"navbar-header\">\r\n          <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\".navbar-collapse\"><span\r\n            class=\"icon-bar\"></span> <span class=\"icon-bar\"></span> <span class=\"icon-bar\"></span> </button>\r\n          <a class=\"navbar-brand\" href=\"/\">PreWedding</a>\r\n        </div>\r\n        <div id=\"navigationDrawer\">\r\n          <div class=\"navbar-collapse collapse\">\r\n            <ul class=\"nav navbar-nav pull-right\">\r\n              <li class=\"active\"><a href=\"/\">Home</a></li>\r\n              <li><a href=\"#/about\">About</a></li>\r\n              <li><a class=\"btn\" href=\"#/signin\">SIGN IN / SIGN UP</a></li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div><footer>\r\n\r\n        <div class=\"footer1\">\r\n          <div class=\"container\">\r\n            <center>\r\n              <h4>Copyright PreWedding - Capstone 2021</h4>\r\n            </center>\r\n          </div>\r\n        </div>\r\n\r\n      </footer></>\r\n  )\r\n}\r\n\r\nexport default Home;","import React, { useState } from 'react'\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\n\nconst Login = () => {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [msg, setMsg] = useState('');\n    const history = useHistory();\n\n    const Auth = async (e) => {\n        e.preventDefault();\n        try {\n            await axios.post('http://localhost:5000/login', {\n                email: email,\n                password: password\n            });\n            history.push(\"/dashboard\");\n        } catch (error) {\n            if (error.response) {\n                setMsg(error.response.data.msg);\n            }\n        }\n    }\n\n    return (\n        <section className=\"hero has-background-grey-light is-fullheight is-fullwidth\">\n            <div className=\"hero-body\">\n                <div className=\"container\">\n                    <div className=\"columns is-centered\">\n                        <div className=\"column is-4-desktop\">\n                            <form onSubmit={Auth} className=\"box\">\n                                <p className=\"has-text-centered\">{msg}</p>\n                                <div className=\"field mt-5\">\n                                    <label className=\"label\">Email or Username</label>\n                                    <div className=\"controls\">\n                                        <input type=\"text\" className=\"input\" placeholder=\"Username\" value={email} onChange={(e) => setEmail(e.target.value)} />\n                                    </div>\n                                </div>\n                                <div className=\"field mt-5\">\n                                    <label className=\"label\">Password</label>\n                                    <div className=\"controls\">\n                                        <input type=\"password\" className=\"input\" placeholder=\"******\" value={password} onChange={(e) => setPassword(e.target.value)} />\n                                    </div>\n                                </div>\n                                <div className=\"field mt-5\">\n                                    <button className=\"button is-success is-fullwidth\">Login</button>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </section>\n    )\n}\n\nexport default Login\n","import React from 'react'\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\n\nconst Navbar = () => {\n    const history = useHistory();\n\n    const Logout = async () => {\n        try {\n            await axios.delete('http://localhost:5000/logout');\n            history.push(\"/\");\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n    return (\n        <nav className=\"navbar is-light\" role=\"navigation\" aria-label=\"main navigation\">\n            <div className=\"container\">\n                <div className=\"navbar-brand\">\n                    <a className=\"navbar-item\" href=\"https://bulma.io\">\n                        <img src=\"https://bulma.io/images/bulma-logo.png\" width=\"112\" height=\"28\" alt=\"logo\" />\n                    </a>\n\n                    <a href=\"/\" role=\"button\" className=\"navbar-burger burger\" aria-label=\"menu\" aria-expanded=\"false\" data-target=\"navbarBasicExample\">\n                        <span aria-hidden=\"true\"></span>\n                        <span aria-hidden=\"true\"></span>\n                        <span aria-hidden=\"true\"></span>\n                    </a>\n                </div>\n\n                <div id=\"navbarBasicExample\" className=\"navbar-menu\">\n                    <div className=\"navbar-start\">\n                        <a href=\"/\" className=\"navbar-item\">\n                            Home\n                        </a>\n                    </div>\n\n                    <div className=\"navbar-end\">\n                        <div className=\"navbar-item\">\n                            <div className=\"buttons\">\n                                <button onClick={Logout} className=\"button is-light\">\n                                    Log Out\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </nav>\n    )\n}\n\nexport default Navbar\n","import React, { useState } from 'react'\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Register = () => {\n    const [name, setName] = useState('');\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [confPassword, setConfPassword] = useState('');\n    const [msg, setMsg] = useState('');\n    const history = useHistory();\n\n    const Register = async (e) => {\n        e.preventDefault();\n        try {\n            await axios.post('http://localhost:5000/users', {\n                name: name,\n                email: email,\n                password: password,\n                confPassword: confPassword\n            });\n            history.push(\"/\");\n        } catch (error) {\n            if (error.response) {\n                setMsg(error.response.data.msg);\n            }\n        }\n    }\n\n    return (\n        <section className=\"hero has-background-grey-light is-fullheight is-fullwidth\">\n            <div className=\"hero-body\">\n                <div className=\"container\">\n                    <div className=\"columns is-centered\">\n                        <div className=\"column is-4-desktop\">\n                            <form onSubmit={Register} className=\"box\">\n                                <p className=\"has-text-centered\">{msg}</p>\n                                <div className=\"field mt-5\">\n                                    <label className=\"label\">Name</label>\n                                    <div className=\"controls\">\n                                        <input type=\"text\" className=\"input\" placeholder=\"Name\"\n                                            value={name} onChange={(e) => setName(e.target.value)} />\n                                    </div>\n                                </div>\n                                <div className=\"field mt-5\">\n                                    <label className=\"label\">Email</label>\n                                    <div className=\"controls\">\n                                        <input type=\"text\" className=\"input\" placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} />\n                                    </div>\n                                </div>\n                                <div className=\"field mt-5\">\n                                    <label className=\"label\">Password</label>\n                                    <div className=\"controls\">\n                                        <input type=\"password\" className=\"input\" placeholder=\"******\" value={password} onChange={(e) => setPassword(e.target.value)} />\n                                    </div>\n                                </div>\n                                <div className=\"field mt-5\">\n                                    <label className=\"label\">Confirm Password</label>\n                                    <div className=\"controls\">\n                                        <input type=\"password\" className=\"input\" placeholder=\"******\" value={confPassword} onChange={(e) => setConfPassword(e.target.value)} />\n                                    </div>\n                                </div>\n                                <div className=\"field mt-5\">\n                                    <button className=\"button is-success is-fullwidth\">Register</button>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </section>\n    )\n}\n\nexport default Register\n","import { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport Dashboard from \"./components/Dashboard\";\nimport Home from \"./components/Home\";\nimport Login from \"./components/Login\";\nimport Navbar from \"./components/Navbar\";\nimport Register from \"./components/Register\";\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route exact path=\"/\">\n          <Home />\n        </Route>\n        <Route path=\"/login\">\n          <Login />\n        </Route>\n        <Route path=\"/register\">\n          <Register />\n        </Route>\n        <Route path=\"/dashboard\">\n          <Navbar />\n          <Dashboard />\n        </Route>\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport \"bulma/css/bulma.css\";\nimport axios from \"axios\";\nimport '../src/styles/main.css';\nimport '../src/styles/sign.css';\nimport '../src/styles/font-awesome.min.css';\nimport '../src/styles/bootstrap.min.css';\nimport '../src/styles/bootstrap-theme.css';\nimport '../src/styles/card.css';\naxios.defaults.withCredentials = true;\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}