(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(33),r=a.n(n),l=a(10),i=a(2),j=a(3),o=a.n(j),b=a(9),d=a(4),u=a(8),h=a.n(u),O=a(16),x=a(0),p=function(){var e=Object(s.useState)(""),t=Object(d.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(""),r=Object(d.a)(n,2),l=r[0],j=r[1],u=Object(s.useState)(""),p=Object(d.a)(u,2),m=p[0],v=p[1],f=Object(s.useState)([]),N=Object(d.a)(f,2),g=N[0],w=N[1],k=Object(i.f)();Object(s.useEffect)((function(){y(),C()}),[]);var y=function(){var e=Object(b.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("http://localhost:5000/token");case 3:t=e.sent,j(t.data.accessToken),a=Object(O.a)(t.data.accessToken),c(a.name),v(a.exp),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0.response&&k.push("/");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),S=h.a.create();S.interceptors.request.use(function(){var e=Object(b.a)(o.a.mark((function e(t){var a,s,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=new Date,!(1e3*m<a.getTime())){e.next=10;break}return e.next=4,h.a.get("http://localhost:5000/token");case 4:s=e.sent,t.headers.Authorization="Bearer ".concat(s.data.accessToken),j(s.data.accessToken),n=Object(O.a)(s.data.accessToken),c(n.name),v(n.exp);case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)}));var C=function(){var e=Object(b.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("http://localhost:5000/users",{headers:{Authorization:"Bearer ".concat(l)}});case 2:t=e.sent,w(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"container mt-5",children:[Object(x.jsxs)("h1",{children:["Welcome Back: ",a]}),Object(x.jsx)("button",{onClick:C,className:"button is-info",children:"Get Users"}),Object(x.jsxs)("table",{className:"table is-striped is-fullwidth",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"No"}),Object(x.jsx)("th",{children:"Name"}),Object(x.jsx)("th",{children:"Email"})]})}),Object(x.jsx)("tbody",{children:g.map((function(e,t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:t+1}),Object(x.jsx)("td",{children:e.name}),Object(x.jsx)("td",{children:e.email})]},e.id)}))})]})]})},m=(a(27),a(28),a(29),a(30),a(31),a(32),function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"navbar navbar-inverse navbar-fixed-top headroom",children:Object(x.jsxs)("div",{class:"container",children:[Object(x.jsxs)("div",{class:"navbar-header",children:[Object(x.jsxs)("button",{type:"button",class:"navbar-toggle","data-toggle":"collapse","data-target":".navbar-collapse",children:[Object(x.jsx)("span",{class:"icon-bar"})," ",Object(x.jsx)("span",{class:"icon-bar"})," ",Object(x.jsx)("span",{class:"icon-bar"})," "]}),Object(x.jsx)("a",{class:"navbar-brand",href:"/",children:"PreWedding"})]}),Object(x.jsx)("div",{id:"navigationDrawer",children:Object(x.jsx)("div",{class:"navbar-collapse collapse",children:Object(x.jsxs)("ul",{class:"nav navbar-nav pull-right",children:[Object(x.jsx)("li",{class:"active",children:Object(x.jsx)("a",{href:"/",children:"Home"})}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{href:"#/about",children:"About"})}),Object(x.jsx)("li",{children:Object(x.jsx)("a",{class:"btn",href:"#/signin",children:"SIGN IN / SIGN UP"})})]})})})]})}),Object(x.jsx)("footer",{children:Object(x.jsx)("div",{class:"footer1",children:Object(x.jsx)("div",{class:"container",children:Object(x.jsx)("center",{children:Object(x.jsx)("h4",{children:"Copyright PreWedding - Capstone 2021"})})})})})]})}),v=function(){var e=Object(s.useState)(""),t=Object(d.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(""),r=Object(d.a)(n,2),l=r[0],j=r[1],u=Object(s.useState)(""),O=Object(d.a)(u,2),p=O[0],m=O[1],v=Object(i.f)(),f=function(){var e=Object(b.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,h.a.post("http://localhost:5000/login",{email:a,password:l});case 4:v.push("/dashboard"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),e.t0.response&&m(e.t0.response.data.msg);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)("section",{className:"hero has-background-grey-light is-fullheight is-fullwidth",children:Object(x.jsx)("div",{className:"hero-body",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("div",{className:"columns is-centered",children:Object(x.jsx)("div",{className:"column is-4-desktop",children:Object(x.jsxs)("form",{onSubmit:f,className:"box",children:[Object(x.jsx)("p",{className:"has-text-centered",children:p}),Object(x.jsxs)("div",{className:"field mt-5",children:[Object(x.jsx)("label",{className:"label",children:"Email or Username"}),Object(x.jsx)("div",{className:"controls",children:Object(x.jsx)("input",{type:"text",className:"input",placeholder:"Username",value:a,onChange:function(e){return c(e.target.value)}})})]}),Object(x.jsxs)("div",{className:"field mt-5",children:[Object(x.jsx)("label",{className:"label",children:"Password"}),Object(x.jsx)("div",{className:"controls",children:Object(x.jsx)("input",{type:"password",className:"input",placeholder:"******",value:l,onChange:function(e){return j(e.target.value)}})})]}),Object(x.jsx)("div",{className:"field mt-5",children:Object(x.jsx)("button",{className:"button is-success is-fullwidth",children:"Login"})})]})})})})})})},f=function(){var e=Object(i.f)(),t=function(){var t=Object(b.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.delete("http://localhost:5000/logout");case 3:e.push("/"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return Object(x.jsx)("nav",{className:"navbar is-light",role:"navigation","aria-label":"main navigation",children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsxs)("div",{className:"navbar-brand",children:[Object(x.jsx)("a",{className:"navbar-item",href:"https://bulma.io",children:Object(x.jsx)("img",{src:"https://bulma.io/images/bulma-logo.png",width:"112",height:"28",alt:"logo"})}),Object(x.jsxs)("a",{href:"/",role:"button",className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample",children:[Object(x.jsx)("span",{"aria-hidden":"true"}),Object(x.jsx)("span",{"aria-hidden":"true"}),Object(x.jsx)("span",{"aria-hidden":"true"})]})]}),Object(x.jsxs)("div",{id:"navbarBasicExample",className:"navbar-menu",children:[Object(x.jsx)("div",{className:"navbar-start",children:Object(x.jsx)("a",{href:"/",className:"navbar-item",children:"Home"})}),Object(x.jsx)("div",{className:"navbar-end",children:Object(x.jsx)("div",{className:"navbar-item",children:Object(x.jsx)("div",{className:"buttons",children:Object(x.jsx)("button",{onClick:t,className:"button is-light",children:"Log Out"})})})})]})]})})},N=function(){var e=Object(s.useState)(""),t=Object(d.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(""),r=Object(d.a)(n,2),l=r[0],j=r[1],u=Object(s.useState)(""),O=Object(d.a)(u,2),p=O[0],m=O[1],v=Object(s.useState)(""),f=Object(d.a)(v,2),N=f[0],g=f[1],w=Object(s.useState)(""),k=Object(d.a)(w,2),y=k[0],S=k[1],C=Object(i.f)(),E=function(){var e=Object(b.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,h.a.post("http://localhost:5000/users",{name:a,email:l,password:p,confPassword:N});case 4:C.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),e.t0.response&&S(e.t0.response.data.msg);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)("section",{className:"hero has-background-grey-light is-fullheight is-fullwidth",children:Object(x.jsx)("div",{className:"hero-body",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("div",{className:"columns is-centered",children:Object(x.jsx)("div",{className:"column is-4-desktop",children:Object(x.jsxs)("form",{onSubmit:E,className:"box",children:[Object(x.jsx)("p",{className:"has-text-centered",children:y}),Object(x.jsxs)("div",{className:"field mt-5",children:[Object(x.jsx)("label",{className:"label",children:"Name"}),Object(x.jsx)("div",{className:"controls",children:Object(x.jsx)("input",{type:"text",className:"input",placeholder:"Name",value:a,onChange:function(e){return c(e.target.value)}})})]}),Object(x.jsxs)("div",{className:"field mt-5",children:[Object(x.jsx)("label",{className:"label",children:"Email"}),Object(x.jsx)("div",{className:"controls",children:Object(x.jsx)("input",{type:"text",className:"input",placeholder:"Email",value:l,onChange:function(e){return j(e.target.value)}})})]}),Object(x.jsxs)("div",{className:"field mt-5",children:[Object(x.jsx)("label",{className:"label",children:"Password"}),Object(x.jsx)("div",{className:"controls",children:Object(x.jsx)("input",{type:"password",className:"input",placeholder:"******",value:p,onChange:function(e){return m(e.target.value)}})})]}),Object(x.jsxs)("div",{className:"field mt-5",children:[Object(x.jsx)("label",{className:"label",children:"Confirm Password"}),Object(x.jsx)("div",{className:"controls",children:Object(x.jsx)("input",{type:"password",className:"input",placeholder:"******",value:N,onChange:function(e){return g(e.target.value)}})})]}),Object(x.jsx)("div",{className:"field mt-5",children:Object(x.jsx)("button",{className:"button is-success is-fullwidth",children:"Register"})})]})})})})})})};var g=function(){return Object(x.jsx)(l.a,{children:Object(x.jsxs)(i.c,{children:[Object(x.jsx)(i.a,{exact:!0,path:"/",children:Object(x.jsx)(m,{})}),Object(x.jsx)(i.a,{path:"/login",children:Object(x.jsx)(v,{})}),Object(x.jsx)(i.a,{path:"/register",children:Object(x.jsx)(N,{})}),Object(x.jsxs)(i.a,{path:"/dashboard",children:[Object(x.jsx)(f,{}),Object(x.jsx)(p,{})]})]})})};a(68);h.a.defaults.withCredentials=!0,r.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(g,{})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.2ffd73b3.chunk.js.map